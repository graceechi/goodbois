extends layout.pug

append head

  link(rel="stylesheet" href="/stylesheets/park-details.css")

  script(src="/javascripts/deleteReview.js" type="module" )

block content
    div(class="splash_nav")
        h1(class='logo')
            a(href="/") goodbois
        if !locals.authenticated
            div(class="navbar")
                nav(id="sign-up-nav")
                    a(href="/users/signup") Sign Up
                form(action='/users/login' method='get')
                    button(type='submit' class='buttons') Log In
                form(action='/users/logout' method='post')
                    button(type='submit' class='buttons') Log Out
    div(class='grid-container')
        div(class='park-info')
            h2(id='park-name')= park.name
                div
            div(id='location' class='input-name') Location
                div(class='input-value')= park.city
                div(class='input-value')= park.state
            div(id='description' class='input-name') Description
                div(class='input-value')= park.description
            div(id='smallDogArea' class='input-name') Small Dog Area
                div(class='input-value')= park.smallDogArea
            div(id='doggieWaterFountain' class='input-name') Doggie Water Fountain
                div(class='input-value')= park.doggieWaterFountain
            div(id= 'fullyFenced' class='input-name') Fully Fenced
                div(class='input-value')= park.fullyFenced
            div(id='parkSize' class='input-name') Park Size
                div(class='input-value')= park.parkSize
            div(id='parkingLot' class='input-name') Parking Lot
                div(class='input-value')= park.parkingLot
            div(id='wasteDisposal' class='input-name') Waste Disposal
                div(class='input-value')= park.wasteDisposal
            div(id='agilityEquipment' class='input-name') Agility Equipment
                div(class='input-value')= park.agilityEquipment
            div(id='shaded' class='input-name') Shaded
                div(class='input-value')= park.shaded
                //- form(action='/parks/:id' method="post")
                //-     button(type='submit' class='buttons') Add to List
    if locals.authenticated
        a(class='add-to-list-btn' href=`/parks/${park.id}/parksList` role='button') Add to List
        form(action=`/parks/${park.id}/edit` method='get' id='get-edit-form')
            button(type='submit' id='edit-park-button' class='buttons') Edit Park Info
    div(class='review-container')
        div(class='review-heading')
            h2 Reviews
            if locals.authenticated
                p(id='review-page'): a(href=`/parks/${park.id}/review`) Leave a Review
        div(id=`review-display-${park.Reviews.id}`)
            each review in park.Reviews
                div(id=`${review.id}-review-container` class='reviews-container')
                    div(class='popup') Are you sure you want to delete this review?
                        form(action=`/parks/${park.id}` method='get')
                            button(type='submit' class='buttons') Cancel
                        button(type='submit' class='buttons') Yes
                        form
                    div Rating
                        div= review.rating
                    div Title
                        div= review.title
                    div Description
                        div= review.body
                    button(type='submit' id=`edit-review-${review.id}` class='buttons') Edit Review
                    button(type='button' id=`delete-review-${review.id}-${park.id}` class='buttons' class='delete-review-button') Delete Review
                    div(class='popup' id='popup')
                        div(class='popup-header') Are you sure you want to delete this review?
                        div(class='popup-body')
                            a(href=`/parks/${park.id}` class='popup-btns' id='cancel') Cancel
                            a(href=`/parks/${park.id}` class='popup-btns delete-yes' id=`yes-delete-${review.id}-${park.id}`) Yes
                br
                br
